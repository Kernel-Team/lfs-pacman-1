pkgname=libgit2
pkgver=0.26.0
pkgrel=1
pkgdesc="A linkable library for Git"
arch=('x86_64')
url="https://libgit2.github.com/"
license=('GPL2')
#depends=()
source=("libgit2-${pkgver}.tar.gz::https://github.com/libgit2/libgit2/archive/v${pkgver}.tar.gz")

prepare() {
	install -v -dm755 "${srcdir}/build"
}

build() {
	cd "${srcdir}/build"

	cmake -G Ninja \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_BUILD_TYPE=Release \
		"${srcdir}/libgit2-${pkgver}"

	ninja ${MAKEFLAGS}
}

package() {
	cd "${srcdir}/build"

	DESTDIR="${pkgdir}" ninja install
}

sha512sums=('988c616c99637f2c1f80c498de34820296b78c0601669475eba9d194490cfd2047131987e63a799599277893e5741f9bcc226ffa594327356047ed563f07d346')

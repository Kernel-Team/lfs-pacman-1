pkgname=docbook-xsl
pkgver=1.79.2
pkgrel=1
pkgdesc="XML stylesheets for Docbook-xml transformations"
arch=('x86_64')
url="http://www.docbook.org/"
license=('custom')
#depends=()
install=docbook-xsl.install
source=("https://github.com/docbook/xslt10-stylesheets/releases/download/release%2F${pkgver}/docbook-xsl-${pkgver}.tar.bz2")

package() {
	cd "${srcdir}/docbook-xsl-${pkgver}"

	install -v -dm755 "${pkgdir}"/usr/share/xml/docbook/xsl-stylesheets-${pkgver}/{common,params}
	install -m644 common/*.{xml,xsl,dtd,ent} "${pkgdir}/usr/share/xml/docbook/xsl-stylesheets-${pkgver}/common"
	install -m644 params/*.xml "${pkgdir}/usr/share/xml/docbook/xsl-stylesheets-${pkgver}/params"

	for fn in fo highlighting html roundtrip
	do
		install -v -dm755 "${pkgdir}/usr/share/xml/docbook/xsl-stylesheets-${pkgver}/${fn}"
		install -m644 ${fn}/*.{xml,xsl} "${pkgdir}/usr/share/xml/docbook/xsl-stylesheets-${pkgver}/${fn}"
	done

	for fn in eclipse htmlhelp javahelp lib manpages profiling template website xhtml{,-1_1}
	do
		install -v -dm755 "${pkgdir}/usr/share/xml/docbook/xsl-stylesheets-${pkgver}/${fn}"
		install -m644 ${fn}/*.xsl "${pkgdir}/usr/share/xml/docbook/xsl-stylesheets-${pkgver}/${fn}"
	done

	install -m644 VERSION "${pkgdir}/usr/share/xml/docbook/xsl-stylesheets-${pkgver}"

	ln -sfv VERSION "${pkgdir}/usr/share/xml/docbook/xsl-stylesheets-${pkgver}/VERSION.xsl"
	ln -sfv xsl-stylesheets-${pkgver} "${pkgdir}/usr/share/xml/docbook/xsl-stylesheets-current"
}


sha512sums=('dc5a2f08a804d0b2badb167b11fe22d53d7861e6238690e09507d09a696e7dce6b0da6e0dbfe84275db23d71006a4b89e3348eb271052341091a26395ec5862c')

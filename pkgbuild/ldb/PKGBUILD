pkgname=ldb
pkgver=1.2.2
pkgrel=1
pkgdesc="A schema-less, ldap like, API and database"
arch=('x86_64')
url="https://ldb.samba.org/"
license=('GPL3')
#depends=()
source=("https://www.samba.org/ftp/ldb/ldb-${pkgver}.tar.gz")

build() {
	cd "${srcdir}/ldb-${pkgver}"

	./configure --prefix=/usr \
		--sysconfdir=/etc/samba \
		--localstatedir=/var \
		--disable-rpath \
		--disable-rpath-install \
		--bundled-libraries=cmocka \
		--builtin-libraries=replace \
		--with-modulesdir=/usr/lib/ldb/modules \
		--with-privatelibdir=/usr/lib/ldb


	make
}

package() {
	cd "${srcdir}/ldb-${pkgver}"

	make install DESTDIR="${pkgdir}"
}

sha512sums=('7d9bd88c6a654967f092758146a8115ab6c66db69a8be269a1f536f0aa3b27fb0d2ea3848cd952ef0f1885c9c4d8b76940f9902b835fe3f79f86b22a4350129b')

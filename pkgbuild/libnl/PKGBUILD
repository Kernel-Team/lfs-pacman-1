pkgname=libnl
pkgver=3.3.0
pkgrel=1
pkgdesc="Library for applications dealing with netlink sockets"
arch=('x86_64')
url="http://www.infradead.org/~tgr/libnl/"
license=('GPL')
#depends=()
source=("https://github.com/thom311/libnl/releases/download/libnl${pkgver//./_}/libnl-${pkgver}.tar.gz")

build() {
	cd "${srcdir}/libnl-${pkgver}"

	./configure --prefix=/usr --sysconfdir=/etc

	make
}

package() {
	cd "${srcdir}/libnl-${pkgver}"

	make install DESTDIR="${pkgdir}"

	install -v -dm755 "${pkgdir}/lib"

	mv "${pkgdir}"/usr/lib/*.so.* "${pkgdir}/lib"

	for file in "${pkgdir}"/usr/lib/*.so
	do
		ln -sfv ../../lib/$(readlink "${file}") "${file}"
	done
}

sha512sums=('3fc5d95b875605ab6378d2d454020c1276a6772205fa11bbd22eba9fd9ef1deb8c75347e5d4602f0ab7bf13bd66b418f5ef73ed05f18134f08638ce06eef622c')

pkgbase=python-libsemanage
pkgname=('python2-libsemanage' 'python3-libsemanage')
pkgver=2.6
pkgrel=1
arch=('x86_64')
url="http://userspace.selinuxproject.org"
license=('GPL')
#depends=()
source=("https://raw.githubusercontent.com/wiki/SELinuxProject/selinux/files/releases/20161014/libsemanage-${pkgver}.tar.gz")

build() {
	cd "${srcdir}/libsemanage-${pkgver}"

	make PYTHON=python2 pywrap
	make PYTHON=python3 pywrap
}

package_python2-libsemanage() {
	pkgdesc="SELinux binary policy manipulation library (Python 2 bindings)"

	cd "${srcdir}/libsemanage-${pkgver}"

	make PYTHON=python2 install-pywrap DESTDIR="${pkgdir}"
}

package_python3-libsemanage() {
	pkgdesc="SELinux binary policy manipulation library (Python 3 bindings)"

	cd "${srcdir}/libsemanage-${pkgver}"

	make PYTHON=python3 install-pywrap DESTDIR="${pkgdir}"
}

sha512sums=('38741d6e6f7a2669bfeee362e42d6bfd720cceeaf61331e329b2210fdc070444e529656ce86dd82e94aa248eafcfaea4c5d013d9cce76c1039be6fc6a6b2c790')

pkgname=mpfr
_basever=4.0.0
pkgver=4.0.0
pkgrel=1
pkgdesc="Multiple-precision floating-point library"
arch=('x86_64')
url="http://www.mpfr.org/"
license=('LGPL')
#depends=()
source=("http://www.mpfr.org/mpfr-current/mpfr-${_basever}.tar.xz")
#	"mpfr-cumulative.patch::http://www.mpfr.org/mpfr-current/allpatches")

prepare() {
	cd "${srcdir}/mpfr-${_basever}"

	[ ${_basever} != ${pkgver} ] && patch -Np1 -i "${srcdir}/mpfr-cumulative.patch" || true
}

build() {
	cd "${srcdir}/mpfr-${_basever}"

	export CC=gcc
	export CXX=g++

	./configure --prefix=/usr --enable-thread-safe

	make
}

package() {
	cd "${srcdir}/mpfr-${_basever}"

	make install DESTDIR="${pkgdir}"
}

sha512sums=('9c9c4535f33fffd2126d1c290e5eeda7cd2804219244643f09c9a2d2acfa3d410d2cb1e4a7bb77cd86cffc2fac59c7f5d32c9910317cac37dbca474ab6d63808')

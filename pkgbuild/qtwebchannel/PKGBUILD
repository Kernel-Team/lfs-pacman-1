pkgname=qtwebchannel
pkgver=5.11.1
pkgrel=1
pkgdesc="Provides access to QObject or QML objects from HTML clients for seamless integration of Qt applications with HTML/JavaScript clients"
arch=('x86_64')
url="https://www.qt.io/"
license=('GPL3' 'LGPL3' 'FDL' 'custom')
#depends=()
source=("https://download.qt.io/official_releases/qt/${pkgver:0:4}/${pkgver}/submodules/qtwebchannel-everywhere-src-${pkgver}.tar.xz")

build() {
	cd "${srcdir}/qtwebchannel-everywhere-src-${pkgver}"

	qmake
	make
}

package() {
	cd "${srcdir}/qtwebchannel-everywhere-src-${pkgver}"

	make install INSTALL_ROOT="${pkgdir}"

	sed -i "/^QMAKE_PRL_BUILD_DIR/d;s#${PWD}#/usr#g" "${pkgdir}"/usr/lib/*.prl
}

sha512sums=('e0a18919cc4fe858eb1a623fc4e79c2936b4ea390d23611a708dd8fc26aac4ecbc262a5b0194f0a4df1fbe69c53568a62183e5847e0bf4c73cbce2122170e0a9')

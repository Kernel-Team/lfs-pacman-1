pkgname=qtxmlpatterns
pkgver=5.9.0
pkgrel=1
pkgdesc="Support for XPath, XQuery, XSLT and XML schema validation"
arch=('x86_64')
url="https://www.qt.io/"
license=('GPL3' 'LGPL3' 'FDL' 'custom')
#depends=()
source=("https://download.qt.io/official_releases/qt/${pkgver:0:3}/${pkgver}/submodules/qtxmlpatterns-opensource-src-${pkgver}.tar.xz")

build() {
	cd "${srcdir}/qtxmlpatterns-opensource-src-${pkgver}"

	qmake
	make
}

package() {
	cd "${srcdir}/qtxmlpatterns-opensource-src-${pkgver}"

	make install INSTALL_ROOT="${pkgdir}"

	sed -i "/^QMAKE_PRL_BUILD_DIR/d;s#${PWD}#/usr#g" "${pkgdir}"/usr/lib/*.prl
}

sha512sums=('f97074c6afe3429f2d6c82897fe38ab8b50cf8191efc7a3e6b722b4f3c38131b3757f0676ec1bb2cac89bd09239b19e8a58e2e3357dfcf6a6b8d7e65aa3f3b7f')

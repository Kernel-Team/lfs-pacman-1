pkgname=setools
pkgver=4.1.0
pkgrel=1
pkgdesc="Policy analysis tools for SELinux"
arch=('x86_64')
url="https://github.com/TresysTechnology/setools/wiki"
license=('GPL' 'LGPL')
#depends=()
source=("setools-${pkgver}.tar.gz::https://github.com/TresysTechnology/setools/archive/${pkgver}.tar.gz")

build() {
	cd "${srcdir}/setools-${pkgver}"

	sed -i "s/'-Werror',//" setup.py

	python3 setup.py build
	python2 setup.py build
}

package() {
	cd "${srcdir}/setools-${pkgver}"

	python3 setup.py install --root="${pkgdir}" --optimize=1
	python2 setup.py install --root="${pkgdir}" --optimize=1
}

sha512sums=('047f969a347c5d015885aef0c7a341ae4393c8e0d61a7112b7bd0380d7c6161765f1ac5d875777ac84430bbe4d21bcb8a748f1b8484ae3a4d3f0137e90a07f2b')

pkgname=visual-studio-code
pkgver=1.32.3
pkgrel=1
pkgdesc="Editor for building and debugging modern web and cloud applications"
arch=('x86_64')
url="https://code.visualstudio.com/"
license=('custom: commercial')
#depends=()
options=(!strip)
source=("code_x64_${pkgver}.tar.gz::https://vscode-update.azurewebsites.net/${pkgver}/linux-x64/stable"
	"visual-studio-code.desktop")

package() {
	cd "${srcdir}/VSCode-linux-x64"

	install -v -dm755 "${pkgdir}/opt/visual-studio-code" "${pkgdir}/usr/bin"

	cp -a * "${pkgdir}/opt/visual-studio-code"

	install -v -Dm644 resources/app/resources/linux/code.png "${pkgdir}/usr/share/pixmaps/visual-studio-code.png"
	install -v -Dm644 "${srcdir}/visual-studio-code.desktop" "${pkgdir}/usr/share/applications/visual-studio-code.desktop"

	ln -sfv /opt/visual-studio-code/code "${pkgdir}/usr/bin/code"
}

sha512sums=('d91faef02d03a695323c55ea9ebae5e43af689c54418bad6f98cc9ee6a31cd75aca7e0ff34f0d24d7f4557ecc6e7d90d81146d22d4a2312b8c03206f9af71874'
            'c69806fe7f00ef065b47a591382b61f27de6e510bcf83bbbc26fbb8ba930048d8edbc7c2af37b07f337c0dbd8444c550b5ac1272d23ebc0dd17bfc35a14fc3d2')
